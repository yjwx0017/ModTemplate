[中文](https://github.com/yjwx0017/ModTemplate/blob/main/README_zh.md)

# About

MOD template project of game [Open Fire: Ready](https://store.steampowered.com/app/4261400/_/).

# Unreal Engine Version

5.5

# Custom Map

## Create a new MOD folder

![new mod folder](https://github.com/user-attachments/assets/68f5ec33-5c85-4ea9-8f90-e28f7c182dd3)

Create a new folder starting with "Mod_" in the Mods directory, and the contents of the folder will be packaged into a Mod (a pak file). To avoid conflicts with other mods, the name of this folder should be kept unique and a GUID can be added at the end, for example: Mod_Sample_f829c3c7.

The assets within the 'Mod_*' folder should not depend on assets outside the folder, as external assets will not be packaged into pak file.

## Create new map

Create a new Level asset and create map content according to your own needs.

## Place required Actors

NavMeshBoundsVolume Actor, used to generate AI navigation mesh.

PlayerStart Actor, this Actor is only used to position the camera before starting the game.

Place BP_KillZone Actor below the play area, optional, to respawn players when their character accidentally falls off the map.

![Actors](https://github.com/user-attachments/assets/af139adf-ef00-4996-b3c1-613a52a0dd67)

### Team Death Match Game Mode

Place multiple BP_SpawnPoint_Team1 Actors in the spawn area of Team 1.

Place multiple BP_SpawnPoint_Team2 Actors in the spawn area of Team 2.

Place BP_PatrolPoint Actors at multiple locations on the map for AI patrol points.

![Actors](https://github.com/user-attachments/assets/6a2cc2b0-52dc-4dab-8208-196eb5feb095)

### Free For All Game Mode

Place BP_PatrolPoint Actors at multiple locations on the map for player spawnpoints and AI patrol points.

### Kill Confirmed Game Mode

Same as Team Death Match Game Mode.

### Zombie Mode

Same as Free For All Game Mode.

## Create a preview image of the map

Use the Unreal Engine built-in High Resolution Screenshot tool or other methods to create a preview texture of the map for display on the UI.

![MapPreview](https://github.com/user-attachments/assets/3ccb3f44-23d4-45dc-86f7-9076e68ef718)

Texture Group set to "UI"。

![TextureGroup](https://github.com/user-attachments/assets/5580b564-93d0-4775-aef2-c5d2d5d8aca9)

## Create a new BP_CustomMapBase subclass

Inheriting the BP_CustomMapBase class to create subclass, must start with "BP_CustomMap_", for example: BP_CustomMap_Sample.

Set information in class defaults of this blueprint.

![CustomMap](https://github.com/user-attachments/assets/3eb7b46f-a5d0-44ec-a424-35d408446565)

- MapID - The unique identifier of the map, recommended to use a GUID.
- MapName - The map name used for displaying on the UI.
- Map - Reference the newly created map asset.
- PreviewImage - Reference the preview texture asset of the map.
- SupportedGameModes - Specify the game modes supported by this map.

Available game mode IDs:

- GameMode.BuildIn.TeamDeathMatch
- GameMode.BuildIn.FreeForAll
- GameMode.BuildIn.Zombie
- GameMode.BuildIn.KillConfirmed

MapCapacity Only for zombie mode, used to specify the maximum number of zombies that the map can accommodate simultaneously.

IsMod and ModID do not need to be set, the main game is responsible for setting them.

A Mod can contain multiple custom maps.

## Create PrimaryAssetLabel data asset

This asset will cause all contents in the folder to be packaged into separate pak files.

![AssetLabel](https://github.com/user-attachments/assets/bd80ac4e-6dc6-4444-927c-7465b65a4399)

![AssetLabel](https://github.com/user-attachments/assets/35cdc48a-84cc-4a7c-8c37-c4c13b7a00df)

## Package

![Package](https://github.com/user-attachments/assets/560f066d-5afd-48e2-913d-8dd43deb9e71)

After packaging is completed, a pak file will be generated.

![pak](https://github.com/user-attachments/assets/c44217d7-e9a7-43e7-b154-8fece0a12882)

## Local testing

Place the pak file in the directory where the game is located, with the following directory structure:

```
steamapps/common/Open Fire Ready
├── Engine
├── OpenFireReady
│   ├── Binaries
│   ├── Config
│   ├── Content
│   └── Mods
│       ├── Example                           (1) The folder where pak is located represents a Mod
│       │   └── pakchunk101-Windows.pak       (2) Pak file generated by Mod packaging
│       └── metadata
│           ├── Example.json                  (3) The file name corresponding to a certain Mod must be the same as the folder name in (1)
│           └── Example_preview.png           (4) Mod preview image, reference in JSON file
└── OpenFireReady.exe
```

JSON file content:

```json
{
	"PublishedFileId": "",
	"Title": "Example",
	"Description": "Example MOD",
	"PreviewURL": "Example_preview.png",
	"ID": "f819c4c7-12e5-4b2d-9af3-cdb4ca4887e4",
	"Tags": [
		"Map"
	]
}
```

- PublishedFileId - No need to set, it will be automatically filled in when uploaded to the steam workshop
- Title - Mod title
- Description - Mod description
- PreviewURL - Mod preview image
- ID - Mod unique identifier, it is recommended to use a GUID
- Tags - Custom tags

When the game starts, all mods in the mods directory will be automatically loaded.

If the Mod loads successfully, the map list will display the corresponding entry:

![map](https://github.com/user-attachments/assets/b69c53e3-33f0-4211-8312-7eb92faaa316)

## Upload to steam workshop

In the Mods page of the game, click the "Upload" button, and the Mod will be uploaded to the Steam Workshop. After successful upload, it will automatically open the Steam Workshop page for the item in a browser window.

Before contributors agree to the [Steam Workshop Legal Agreement](https://steamcommunity.com/sharedfiles/workshoplegalagreement), workshop items are assumed to be hidden.

![upload](https://github.com/user-attachments/assets/4eb12ecc-8235-4f8d-8d0a-e7079bbfc8a4)
